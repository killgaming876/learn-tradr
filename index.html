<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trader's Dojo | AI Trading Mentor</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800&family=Exo+2:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js"></script>
    <style>
        /* Global Variables */
        :root {
            --primary: #3b82f6;
            --primary-glow: rgba(59, 130, 246, 0.3);
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --bg-dark: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.7);
            --border-color: rgba(59, 130, 246, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --shadow-lg: 0 25px 50px rgba(0, 0, 0, 0.3);
            --shadow-glow: 0 0 50px var(--primary-glow);
        }

        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Particles */
        #backgroundParticles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        /* Main Container */
        .main-container {
            position: relative;
            z-index: 2;
            max-width: 100vw;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 280px 1fr 350px;
            gap: 25px;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            height: calc(100vh - 40px);
            position: sticky;
            top: 20px;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-lg), var(--shadow-glow);
            animation: slideInLeft 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .logo {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
        }

        .logo-icon {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 15px;
            text-shadow: 0 0 30px var(--primary-glow);
            animation: pulse 2s infinite;
        }

        .logo h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .logo p {
            color: var(--text-muted);
            font-size: 12px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* Navigation */
        .nav-section {
            margin-bottom: 30px;
        }

        .nav-title {
            color: var(--text-muted);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            padding-left: 15px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 12px;
            margin-bottom: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item:hover {
            background: rgba(59, 130, 246, 0.1);
            color: var(--text-primary);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.3);
        }

        .nav-item i {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--accent);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        /* User Stats */
        .user-stats {
            margin-top: auto;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 14px;
        }

        .stat-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .xp-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* Main Content */
        .content-area {
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .content-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .content-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Dashboard Section */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .greeting h2 {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .greeting p {
            color: var(--text-muted);
            font-size: 16px;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.03), transparent);
            z-index: -1;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.2);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .stat-card:nth-child(1) .stat-icon {
            background: linear-gradient(135deg, var(--primary), #1d4ed8);
            color: white;
        }

        .stat-card:nth-child(2) .stat-icon {
            background: linear-gradient(135deg, var(--success), #047857);
            color: white;
        }

        .stat-card:nth-child(3) .stat-icon {
            background: linear-gradient(135deg, var(--warning), #b45309);
            color: white;
        }

        .stat-card:nth-child(4) .stat-icon {
            background: linear-gradient(135deg, var(--accent), #be185d);
            color: white;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* AI Mentor Section */
        .ai-mentor {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: var(--shadow-lg);
        }

        .mentor-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .mentor-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: white;
            position: relative;
            box-shadow: 0 0 30px var(--primary-glow);
        }

        .mentor-avatar::after {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 50%;
            z-index: -1;
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .mentor-info h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .mentor-info p {
            color: var(--text-muted);
            font-size: 14px;
        }

        .mentor-messages {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding-right: 10px;
        }

        .message {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 15px;
            max-width: 85%;
            animation: messageSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mentor-message {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid var(--primary);
            margin-right: auto;
        }

        .user-message {
            background: rgba(139, 92, 246, 0.1);
            border-right: 4px solid var(--secondary);
            margin-left: auto;
        }

        .message-content {
            font-size: 15px;
            line-height: 1.6;
        }

        .message-time {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 5px;
            text-align: right;
        }

        .mentor-input {
            display: flex;
            gap: 15px;
        }

        .mentor-input input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(30, 41, 59, 0.5);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .mentor-input input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px var(--primary-glow);
        }

        .send-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        /* Chart Section */
        .chart-section {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .chart-header h2 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timeframe-buttons {
            display: flex;
            gap: 10px;
        }

        .timeframe-btn {
            padding: 8px 16px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .timeframe-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
        }

        .chart-container {
            height: 500px;
            position: relative;
        }

        /* Trading Panel */
        .trading-panel {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow-lg);
        }

        .trading-panel h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--text-primary);
        }

        .balance-display {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .balance-amount {
            font-size: 36px;
            font-weight: 700;
            color: var(--success);
            margin-bottom: 10px;
        }

        .balance-label {
            color: var(--text-muted);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .trade-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .trade-btn {
            padding: 25px 20px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .trade-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right,
                transparent 20%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 80%
            );
            transform: rotate(30deg);
            transition: transform 0.6s;
            opacity: 0;
        }

        .trade-btn:hover::after {
            opacity: 1;
            transform: rotate(30deg) translateX(100%);
        }

        .trade-btn.buy {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
        }

        .trade-btn.buy:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4);
        }

        .trade-btn.sell {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }

        .trade-btn.sell:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(239, 68, 68, 0.4);
        }

        .trade-btn i {
            font-size: 24px;
        }

        .position-control {
            margin-bottom: 25px;
        }

        .position-control h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .position-slider {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            margin-bottom: 15px;
        }

        .position-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 20px var(--primary-glow);
        }

        .position-values {
            display: flex;
            justify-content: space-between;
            color: var(--text-muted);
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .action-btn {
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .action-btn.primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Right Panel */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 25px;
            animation: slideInRight 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Lessons Panel */
        .lessons-panel {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow-lg);
        }

        .lessons-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .lessons-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .lessons-progress {
            color: var(--primary);
            font-weight: 600;
        }

        .lesson-item {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lesson-item:hover {
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .lesson-item.completed {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
        }

        .lesson-item.current {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--primary);
            position: relative;
        }

        .lesson-item.current::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            border-radius: 4px 0 0 4px;
        }

        .lesson-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .lesson-desc {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 15px;
        }

        .lesson-meta {
            display: flex;
            justify-content: space-between;
            color: var(--text-muted);
            font-size: 12px;
        }

        /* News Panel */
        .news-panel {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow-lg);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .news-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .news-item {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .news-item:hover {
            background: rgba(59, 130, 246, 0.05);
            transform: translateX(5px);
        }

        .news-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .news-time {
            color: var(--text-muted);
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Trading Tools */
        .tools-panel {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow-lg);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .tool-btn {
            padding: 15px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .tool-btn:hover {
            border-color: var(--primary);
            color: var(--text-primary);
            transform: translateY(-3px);
        }

        .tool-btn i {
            font-size: 20px;
        }

        /* Animations */
        .float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 20px var(--primary-glow); }
            to { box-shadow: 0 0 40px var(--primary-glow); }
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar, .right-panel {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Background Particles -->
    <div id="backgroundParticles"></div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon float">
                    <i class="fas fa-chess-knight"></i>
                </div>
                <h1>TRADER'S DOJO</h1>
                <p>Master the Markets</p>
            </div>

            <nav>
                <div class="nav-section">
                    <div class="nav-title">Navigation</div>
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="learn">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Learn Trading</span>
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#" class="nav-item" data-section="chart">
                        <i class="fas fa-chart-line"></i>
                        <span>Live Charts</span>
                    </a>
                    <a href="#" class="nav-item" data-section="practice">
                        <i class="fas fa-gamepad"></i>
                        <span>Practice Arena</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Analysis Tools</div>
                    <a href="#" class="nav-item" data-section="indicators">
                        <i class="fas fa-wave-square"></i>
                        <span>Indicators</span>
                    </a>
                    <a href="#" class="nav-item" data-section="patterns">
                        <i class="fas fa-shapes"></i>
                        <span>Patterns</span>
                    </a>
                    <a href="#" class="nav-item" data-section="screener">
                        <i class="fas fa-search"></i>
                        <span>Market Screener</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Community</div>
                    <a href="#" class="nav-item" data-section="leaderboard">
                        <i class="fas fa-trophy"></i>
                        <span>Leaderboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="chat">
                        <i class="fas fa-comments"></i>
                        <span>Trading Chat</span>
                    </a>
                </div>
            </nav>

            <!-- User Stats -->
            <div class="user-stats">
                <div class="stat-row">
                    <span class="stat-label">Level</span>
                    <span class="stat-value" id="userLevel">7</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">XP</span>
                    <span class="stat-value" id="userXP">1,245</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Win Rate</span>
                    <span class="stat-value" id="winRate">68%</span>
                </div>
                <div class="xp-bar">
                    <div class="xp-fill" id="xpFill" style="width: 45%"></div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content-area">
            <!-- Dashboard Section -->
            <section class="content-section active" id="dashboardSection">
                <div class="dashboard-header">
                    <div class="greeting">
                        <h2>Welcome back, Trader!</h2>
                        <p>Your AI mentor has new insights for you today</p>
                    </div>
                    <div class="stats-overview">
                        <div class="stat-card" style="display: inline-block; padding: 15px 30px;">
                            <div class="stat-value">24/7</div>
                            <div class="stat-label">AI Mentor Active</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-value" id="totalTrades">248</div>
                        <div class="stat-label">Total Trades</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stat-value" id="totalProfit">+$4,280</div>
                        <div class="stat-label">Total Profit</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-value" id="currentStreak">12</div>
                        <div class="stat-label">Win Streak</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-value" id="trainingHours">48h</div>
                        <div class="stat-label">Training Time</div>
                    </div>
                </div>

                <!-- AI Mentor Chat -->
                <div class="ai-mentor">
                    <div class="mentor-header">
                        <div class="mentor-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="mentor-info">
                            <h3>AI Sensei Kuro</h3>
                            <p>Your personal trading mentor â€¢ Always online</p>
                        </div>
                    </div>

                    <div class="mentor-messages" id="mentorMessages">
                        <div class="message mentor-message">
                            <div class="message-content">
                                Hello, trader! I'm Sensei Kuro. I'll be your guide through the markets. Today, let's focus on trend identification and support/resistance levels.
                            </div>
                            <div class="message-time">Just now</div>
                        </div>
                        <div class="message mentor-message">
                            <div class="message-content">
                                I see you've been practicing well. Your win rate is improving! Remember: "The market is always right, but your interpretation might be wrong."
                            </div>
                            <div class="message-time">2 min ago</div>
                        </div>
                    </div>

                    <div class="mentor-input">
                        <input type="text" 
                               id="mentorInput" 
                               placeholder="Ask Sensei Kuro anything about trading...">
                        <button class="send-btn" id="sendMessageBtn">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="stats-grid" style="margin-top: 30px;">
                    <div class="stat-card" style="cursor: pointer;" id="quickChartBtn">
                        <div class="stat-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="stat-value">Live Chart</div>
                        <div class="stat-label">Practice Analysis</div>
                    </div>
                    <div class="stat-card" style="cursor: pointer;" id="quickLessonBtn">
                        <div class="stat-icon">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <div class="stat-value">New Lesson</div>
                        <div class="stat-label">Learn Patterns</div>
                    </div>
                    <div class="stat-card" style="cursor: pointer;" id="quickTradeBtn">
                        <div class="stat-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="stat-value">Trade Now</div>
                        <div class="stat-label">Practice Trading</div>
                    </div>
                    <div class="stat-card" style="cursor: pointer;" id="quickQuizBtn">
                        <div class="stat-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="stat-value">Quiz</div>
                        <div class="stat-label">Test Knowledge</div>
                    </div>
                </div>
            </section>

            <!-- Chart Section -->
            <section class="content-section" id="chartSection">
                <div class="chart-section">
                    <div class="chart-header">
                        <h2><i class="fas fa-chart-line"></i> Live Market Analysis</h2>
                        <div class="chart-controls">
                            <div class="timeframe-buttons">
                                <button class="timeframe-btn active" data-tf="5m">5M</button>
                                <button class="timeframe-btn" data-tf="15m">15M</button>
                                <button class="timeframe-btn" data-tf="1h">1H</button>
                                <button class="timeframe-btn" data-tf="4h">4H</button>
                                <button class="timeframe-btn" data-tf="1d">1D</button>
                            </div>
                            <button class="action-btn primary" id="newChartDataBtn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="marketChart"></canvas>
                    </div>
                </div>

                <!-- Chart Tools -->
                <div class="tools-panel" style="margin-top: 30px;">
                    <h3>Chart Analysis Tools</h3>
                    <div class="tools-grid">
                        <button class="tool-btn" data-tool="trendline">
                            <i class="fas fa-long-arrow-alt-up"></i>
                            <span>Trend Line</span>
                        </button>
                        <button class="tool-btn" data-tool="horizontal">
                            <i class="fas fa-arrows-alt-h"></i>
                            <span>Support/Resistance</span>
                        </button>
                        <button class="tool-btn" data-tool="fibonacci">
                            <i class="fas fa-wave-square"></i>
                            <span>Fibonacci</span>
                        </button>
                        <button class="tool-btn" data-tool="patterns">
                            <i class="fas fa-shapes"></i>
                            <span>Patterns</span>
                        </button>
                        <button class="tool-btn" data-tool="indicators">
                            <i class="fas fa-chart-area"></i>
                            <span>Indicators</span>
                        </button>
                        <button class="tool-btn" data-tool="clear">
                            <i class="fas fa-eraser"></i>
                            <span>Clear All</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Practice Arena -->
            <section class="content-section" id="practiceSection">
                <div class="dashboard-header">
                    <h2>Practice Trading Arena</h2>
                    <p>Test your skills in realistic market conditions</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stat-value" id="practiceBalance">$10,000</div>
                        <div class="stat-label">Practice Balance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-value" id="practiceAccuracy">72%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-value" id="practiceStreak">8</div>
                        <div class="stat-label">Current Streak</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-value" id="practiceRank">#42</div>
                        <div class="stat-label">Global Rank</div>
                    </div>
                </div>

                <!-- Practice Chart -->
                <div class="chart-section" style="margin-top: 30px;">
                    <div class="chart-header">
                        <h2><i class="fas fa-gamepad"></i> Trading Simulation</h2>
                        <div class="chart-controls">
                            <select class="timeframe-select">
                                <option>Random Market</option>
                                <option>Trending Market</option>
                                <option>Ranging Market</option>
                                <option>Volatile Market</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="practiceChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Learn Trading Section -->
            <section class="content-section" id="learnSection">
                <div class="dashboard-header">
                    <h2>Trading Mastery Course</h2>
                    <p>Complete all modules to become a trading master</p>
                </div>

                <!-- Course Progress -->
                <div class="stat-card" style="margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div class="stat-value">Course Progress: 45%</div>
                            <div class="stat-label">12 of 26 lessons completed</div>
                        </div>
                        <button class="action-btn primary">
                            <i class="fas fa-play"></i> Continue Learning
                        </button>
                    </div>
                    <div class="xp-bar" style="margin-top: 20px;">
                        <div class="xp-fill" style="width: 45%"></div>
                    </div>
                </div>

                <!-- Course Modules -->
                <div class="stats-grid">
                    <!-- Module 1 -->
                    <div class="lesson-item completed">
                        <div class="lesson-title">Module 1: Trading Basics</div>
                        <div class="lesson-desc">Understanding markets, order types, and basic terminology</div>
                        <div class="lesson-meta">
                            <span>4/4 lessons</span>
                            <span><i class="fas fa-check-circle"></i> Completed</span>
                        </div>
                    </div>

                    <!-- Module 2 -->
                    <div class="lesson-item completed">
                        <div class="lesson-title">Module 2: Chart Reading</div>
                        <div class="lesson-desc">Candlesticks, timeframes, and chart patterns</div>
                        <div class="lesson-meta">
                            <span>5/5 lessons</span>
                            <span><i class="fas fa-check-circle"></i> Completed</span>
                        </div>
                    </div>

                    <!-- Module 3 -->
                    <div class="lesson-item current">
                        <div class="lesson-title">Module 3: Technical Analysis</div>
                        <div class="lesson-desc">Indicators, support/resistance, trend analysis</div>
                        <div class="lesson-meta">
                            <span>3/6 lessons</span>
                            <span><i class="fas fa-play-circle"></i> In Progress</span>
                        </div>
                    </div>

                    <!-- Module 4 -->
                    <div class="lesson-item">
                        <div class="lesson-title">Module 4: Risk Management</div>
                        <div class="lesson-desc">Position sizing, stop losses, risk/reward ratios</div>
                        <div class="lesson-meta">
                            <span>0/4 lessons</span>
                            <span><i class="fas fa-lock"></i> Locked</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel">
            <!-- Lessons Panel -->
            <div class="lessons-panel">
                <div class="lessons-header">
                    <h2>Today's Lessons</h2>
                    <span class="lessons-progress">2/3</span>
                </div>

                <div class="lesson-item current">
                    <div class="lesson-title">Support & Resistance Mastery</div>
                    <div class="lesson-desc">Learn to identify and trade key price levels</div>
                    <div class="lesson-meta">
                        <span>15 min</span>
                        <span><i class="fas fa-play-circle"></i> Continue</span>
                    </div>
                </div>

                <div class="lesson-item">
                    <div class="lesson-title">MACD Indicator Deep Dive</div>
                    <div class="lesson-desc">Master moving average convergence divergence</div>
                    <div class="lesson-meta">
                        <span>20 min</span>
                        <span><i class="fas fa-lock"></i> Next</span>
                    </div>
                </div>

                <div class="lesson-item">
                    <div class="lesson-title">Risk Management Quiz</div>
                    <div class="lesson-desc">Test your risk management knowledge</div>
                    <div class="lesson-meta">
                        <span>10 min</span>
                        <span><i class="fas fa-lock"></i> Locked</span>
                    </div>
                </div>
            </div>

            <!-- Trading Panel -->
            <div class="trading-panel">
                <h2>Quick Trade</h2>
                
                <div class="balance-display">
                    <div class="balance-amount" id="quickBalance">$10,000</div>
                    <div class="balance-label">Practice Balance</div>
                </div>

                <div class="trade-buttons">
                    <button class="trade-btn buy" id="quickBuyBtn">
                        <i class="fas fa-arrow-up"></i>
                        <span>BUY</span>
                        <small>Bullish</small>
                    </button>
                    <button class="trade-btn sell" id="quickSellBtn">
                        <i class="fas fa-arrow-down"></i>
                        <span>SELL</span>
                        <small>Bearish</small>
                    </button>
                </div>

                <div class="position-control">
                    <h3>Position Size</h3>
                    <input type="range" class="position-slider" id="positionSlider" min="100" max="2000" value="500">
                    <div class="position-values">
                        <span>$<span id="positionValue">500</span></span>
                        <span>Risk: <span id="riskPercent">5%</span></span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn primary" id="executeTradeBtn">
                        <i class="fas fa-paper-plane"></i> Execute Trade
                    </button>
                    <button class="action-btn" id="analyzeBtn">
                        <i class="fas fa-search"></i> AI Analysis
                    </button>
                </div>
            </div>

            <!-- Market News -->
            <div class="news-panel">
                <div class="news-header">
                    <h2>Market News</h2>
                    <span class="news-time"><i class="fas fa-clock"></i> Live</span>
                </div>

                <div class="news-item">
                    <div class="news-title">Bitcoin tests $45,000 resistance</div>
                    <div class="news-time">2 minutes ago</div>
                </div>

                <div class="news-item">
                    <div class="news-title">Federal Reserve meeting preview</div>
                    <div class="news-time">15 minutes ago</div>
                </div>

                <div class="news-item">
                    <div class="news-title">Ethereum network upgrade announced</div>
                    <div class="news-time">1 hour ago</div>
                </div>

                <div class="news-item">
                    <div class="news-title">Stock markets open higher</div>
                    <div class="news-time">2 hours ago</div>
                </div>
            </div>

            <!-- Trading Tools -->
            <div class="tools-panel">
                <h3>Quick Tools</h3>
                <div class="tools-grid">
                    <button class="tool-btn" id="calculatorBtn">
                        <i class="fas fa-calculator"></i>
                        <span>Calculator</span>
                    </button>
                    <button class="tool-btn" id="journalBtn">
                        <i class="fas fa-book"></i>
                        <span>Journal</span>
                    </button>
                    <button class="tool-btn" id="screenerBtn">
                        <i class="fas fa-search"></i>
                        <span>Screener</span>
                    </button>
                    <button class="tool-btn" id="settingsBtn">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Trading Modals will be added here -->
    <div id="modalsContainer"></div>

    <!-- Audio Elements -->
    <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>
    <audio id="tradeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-cash-register-bell-sale-1108.mp3"></audio>
    <audio id="successSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

    <!-- Scripts -->
    <script src="particles.js"></script>
    <script src="app.js"></script>
    <script>
        // Initialize particles immediately
        createBackgroundParticles();
        
        // Add smooth page transitions
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation handling
            const navItems = document.querySelectorAll('.nav-item');
            const contentSections = document.querySelectorAll('.content-section');
            
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all nav items
                    navItems.forEach(nav => nav.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Get target section
                    const targetSection = this.dataset.section;
                    
                    // Hide all sections
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Show target section
                    const targetElement = document.getElementById(targetSection + 'Section');
                    if (targetElement) {
                        targetElement.classList.add('active');
                        
                        // Play click sound
                        document.getElementById('clickSound').currentTime = 0;
                        document.getElementById('clickSound').play();
                        
                        // Add particle effect
                        createClickParticles(e.clientX, e.clientY);
                    }
                });
            });
            
            // Initialize charts
            initializeCharts();
            
            // Setup event listeners
            setupEventListeners();
            
            // Start AI mentor conversation
            startAIConversation();
        });

        function createClickParticles(x, y) {
            const container = document.getElementById('backgroundParticles');
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = 'rgba(59, 130, 246, 0.8)';
                particle.style.boxShadow = '0 0 10px #3b82f6';
                
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 50 + 30;
                
                particle.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                
                container.appendChild(particle);
                
                setTimeout(() => {
                    particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                    particle.style.opacity = '0';
                }, 10);
                
                setTimeout(() => particle.remove(), 700);
            }
        }

        function initializeCharts() {
            // Main market chart
            const ctx = document.getElementById('marketChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 50}, (_, i) => i),
                    datasets: [{
                        label: 'BTC/USD',
                        data: generateRandomData(50, 45000, 46000),
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { display: false },
                        y: {
                            ticks: {
                                callback: value => '$' + value.toLocaleString()
                            }
                        }
                    }
                }
            });

            // Practice chart
            const practiceCtx = document.getElementById('practiceChart').getContext('2d');
            new Chart(practiceCtx, {
                type: 'candlestick',
                data: {
                    datasets: [{
                        label: 'Practice Chart',
                        data: generateCandleData(30),
                        color: {
                            up: '#10b981',
                            down: '#ef4444'
                        }
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });
        }

        function generateRandomData(count, min, max) {
            const data = [];
            let current = (min + max) / 2;
            
            for (let i = 0; i < count; i++) {
                current += (Math.random() - 0.5) * (max - min) * 0.05;
                current = Math.max(min, Math.min(max, current));
                data.push(current);
            }
            
            return data;
        }

        function generateCandleData(count) {
            const data = [];
            let current = 45000;
            
            for (let i = 0; i < count; i++) {
                const open = current;
                const change = (Math.random() - 0.5) * 0.02;
                const close = open * (1 + change);
                const high = Math.max(open, close) * (1 + Math.random() * 0.01);
                const low = Math.min(open, close) * (1 - Math.random() * 0.01);
                
                data.push({ x: i, o: open, h: high, l: low, c: close });
                current = close;
            }
            
            return data;
        }

        function setupEventListeners() {
            // Quick action buttons
            document.getElementById('quickBuyBtn').addEventListener('click', () => executeQuickTrade('buy'));
            document.getElementById('quickSellBtn').addEventListener('click', () => executeQuickTrade('sell'));
            document.getElementById('executeTradeBtn').addEventListener('click', executePracticeTrade);
            
            // Position slider
            const slider = document.getElementById('positionSlider');
            const positionValue = document.getElementById('positionValue');
            const riskPercent = document.getElementById('riskPercent');
            
            slider.addEventListener('input', function() {
                const value = parseInt(this.value);
                positionValue.textContent = value.toLocaleString();
                const risk = (value / 10000 * 100).toFixed(1);
                riskPercent.textContent = risk + '%';
            });
            
            // Send message to AI mentor
            document.getElementById('sendMessageBtn').addEventListener('click', sendMessageToAI);
            document.getElementById('mentorInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessageToAI();
            });
            
            // Tool buttons
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tool = this.dataset.tool;
                    useTradingTool(tool);
                });
            });
            
            // Timeframe buttons
            document.querySelectorAll('.timeframe-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.timeframe-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateChartTimeframe(this.dataset.tf);
                });
            });
        }

        function executeQuickTrade(direction) {
            const balance = document.getElementById('quickBalance');
            const position = parseInt(document.getElementById('positionValue').textContent.replace(',', ''));
            
            // Random outcome (for demo)
            const win = Math.random() > 0.4;
            const profit = win ? position * 0.1 : -position * 0.05;
            
            // Update balance
            let currentBalance = parseInt(balance.textContent.replace('$', '').replace(',', ''));
            currentBalance += profit;
            balance.textContent = '$' + currentBalance.toLocaleString();
            
            // Show result
            showTradeResult(direction, win, profit);
            
            // Play sound
            document.getElementById('tradeSound').currentTime = 0;
            document.getElementById('tradeSound').play();
        }

        function showTradeResult(direction, win, profit) {
            // Create result modal
            const modal = document.createElement('div');
            modal.className = 'trade-result-modal';
            modal.innerHTML = `
                <div class="result-content ${win ? 'win' : 'loss'}">
                    <i class="fas ${win ? 'fa-trophy' : 'fa-exclamation-triangle'}"></i>
                    <h3>${win ? 'Trade Won!' : 'Trade Lost'}</h3>
                    <p>${direction.toUpperCase()} â€¢ ${win ? '+' : ''}$${Math.abs(profit).toFixed(2)}</p>
                    <small>${win ? 'Great analysis!' : 'Learn from this!'}</small>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Animate in
            setTimeout(() => modal.classList.add('show'), 10);
            
            // Remove after 3 seconds
            setTimeout(() => {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }, 3000);
        }

        function sendMessageToAI() {
            const input = document.getElementById('mentorInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessageToChat(message, 'user');
            input.value = '';
            
            // Simulate AI response (in real app, this would be API call)
            setTimeout(() => {
                const responses = [
                    "That's a great question! In trading, the key is to manage risk before seeking reward.",
                    "Based on the current chart pattern, I'd recommend looking for confirmation before entering a trade.",
                    "Remember: 'Bulls make money, bears make money, pigs get slaughtered.' Don't be greedy!",
                    "Your analysis is improving! Have you considered the higher timeframe trend?",
                    "Let me explain that concept with a simple analogy..."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessageToChat(randomResponse, 'mentor');
            }, 1000);
        }

        function addMessageToChat(message, sender) {
            const chat = document.getElementById('mentorMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `
                <div class="message-content">${message}</div>
                <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
            `;
            
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }

        function startAIConversation() {
            // Initial AI messages
            const initialMessages = [
                "Welcome back! Ready to master the markets today?",
                "I've analyzed your recent trades. Your risk management is improving!",
                "Today's focus: Identifying false breakouts. Want to practice?",
                "Pro tip: Always check multiple timeframes before making a trade decision."
            ];
            
            let delay = 1000;
            initialMessages.forEach(msg => {
                setTimeout(() => addMessageToChat(msg, 'mentor'), delay);
                delay += 2000;
            });
        }

        function useTradingTool(tool) {
            const messages = {
                trendline: "Drawing trendline: Connect at least two swing points for validity.",
                horizontal: "Support/Resistance: Price often reacts at these levels multiple times.",
                fibonacci: "Fibonacci levels: Key retracements at 38.2%, 50%, 61.8%.",
                patterns: "Pattern recognition: Head & Shoulders, Double Tops/Bottoms, Triangles.",
                indicators: "Indicators: Use RSI for momentum, MACD for trend changes.",
                clear: "All tools cleared. Ready for fresh analysis."
            };
            
            addMessageToChat(messages[tool], 'mentor');
            
            // Visual feedback
            createToolParticles(tool);
        }

        function createToolParticles(tool) {
            const colors = {
                trendline: '#3b82f6',
                horizontal: '#8b5cf6',
                fibonacci: '#ec4899',
                patterns: '#10b981',
                indicators: '#f59e0b',
                clear: '#ef4444'
            };
            
            const container = document.getElementById('backgroundParticles');
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = '6px';
                particle.style.height = '6px';
                particle.style.left = Math.random() * window.innerWidth + 'px';
                particle.style.top = Math.random() * window.innerHeight + 'px';
                particle.style.background = colors[tool];
                particle.style.boxShadow = `0 0 15px ${colors[tool]}`;
                
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 100 + 50;
                
                particle.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
                
                container.appendChild(particle);
                
                setTimeout(() => {
                    particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                    particle.style.opacity = '0';
                }, 10);
                
                setTimeout(() => particle.remove(), 900);
            }
        }

        function updateChartTimeframe(timeframe) {
            // In real app, this would update chart data
            addMessageToChat(`Switched to ${timeframe} timeframe. Analyzing market structure...`, 'mentor');
        }

        function executePracticeTrade() {
            const direction = document.querySelector('.trade-btn.buy').classList.contains('selected') ? 'buy' : 'sell';
            executeQuickTrade(direction);
        }

        // Add result modal styles
        const style = document.createElement('style');
        style.textContent = `
            .trade-result-modal {
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 1000;
                opacity: 0;
                transform: translateX(100px);
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .trade-result-modal.show {
                opacity: 1;
                transform: translateX(0);
            }
            
            .result-content {
                background: rgba(30, 41, 59, 0.95);
                backdrop-filter: blur(20px);
                border: 2px solid;
                border-radius: 15px;
                padding: 20px;
                text-align: center;
                min-width: 200px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            }
            
            .result-content.win {
                border-color: #10b981;
                background: rgba(16, 185, 129, 0.1);
            }
            
            .result-content.loss {
                border-color: #ef4444;
                background: rgba(239, 68, 68, 0.1);
            }
            
            .result-content i {
                font-size: 40px;
                margin-bottom: 15px;
            }
            
            .result-content.win i {
                color: #10b981;
            }
            
            .result-content.loss i {
                color: #ef4444;
            }
            
            .result-content h3 {
                font-size: 20px;
                font-weight: 700;
                margin-bottom: 10px;
            }
            
            .result-content p {
                font-size: 18px;
                font-weight: 600;
                margin-bottom: 5px;
            }
            
            .result-content small {
                color: #94a3b8;
                font-size: 12px;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
